{"version":3,"file":"index.js","mappings":"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","sources":["webpack://@spree/storefront-api-v2-sdk/webpack/universalModuleDefinition","webpack://@spree/storefront-api-v2-sdk/./src/Client.ts","webpack://@spree/storefront-api-v2-sdk/./src/Http.ts","webpack://@spree/storefront-api-v2-sdk/./src/endpoints/Account.ts","webpack://@spree/storefront-api-v2-sdk/./src/endpoints/Authentication.ts","webpack://@spree/storefront-api-v2-sdk/./src/endpoints/Cart.ts","webpack://@spree/storefront-api-v2-sdk/./src/endpoints/Checkout.ts","webpack://@spree/storefront-api-v2-sdk/./src/endpoints/Countries.ts","webpack://@spree/storefront-api-v2-sdk/./src/endpoints/Order.ts","webpack://@spree/storefront-api-v2-sdk/./src/endpoints/Pages.ts","webpack://@spree/storefront-api-v2-sdk/./src/endpoints/Products.ts","webpack://@spree/storefront-api-v2-sdk/./src/endpoints/Stores.ts","webpack://@spree/storefront-api-v2-sdk/./src/endpoints/Taxons.ts","webpack://@spree/storefront-api-v2-sdk/./src/endpoints/index.ts","webpack://@spree/storefront-api-v2-sdk/./src/errors/BasicSpreeError.ts","webpack://@spree/storefront-api-v2-sdk/./src/errors/CastError.ts","webpack://@spree/storefront-api-v2-sdk/./src/errors/DeserializeError.ts","webpack://@spree/storefront-api-v2-sdk/./src/errors/DocumentRelationshipError.ts","webpack://@spree/storefront-api-v2-sdk/./src/errors/ExpandedSpreeError.ts","webpack://@spree/storefront-api-v2-sdk/./src/errors/FetchError.ts","webpack://@spree/storefront-api-v2-sdk/./src/errors/MisconfigurationError.ts","webpack://@spree/storefront-api-v2-sdk/./src/errors/NoResponseError.ts","webpack://@spree/storefront-api-v2-sdk/./src/errors/SpreeError.ts","webpack://@spree/storefront-api-v2-sdk/./src/errors/SpreeSDKError.ts","webpack://@spree/storefront-api-v2-sdk/./src/errors/index.ts","webpack://@spree/storefront-api-v2-sdk/./src/fetchers/createAxiosFetcher.ts","webpack://@spree/storefront-api-v2-sdk/./src/fetchers/createFetchFetcher.ts","webpack://@spree/storefront-api-v2-sdk/./src/helpers/auth.ts","webpack://@spree/storefront-api-v2-sdk/./src/helpers/createFetcherFromType.ts","webpack://@spree/storefront-api-v2-sdk/./src/helpers/jsonApi.ts","webpack://@spree/storefront-api-v2-sdk/./src/helpers/result.ts","webpack://@spree/storefront-api-v2-sdk/./src/index.ts","webpack://@spree/storefront-api-v2-sdk/./src/interfaces/errors/ErrorClass.ts","webpack://@spree/storefront-api-v2-sdk/./src/makeClient.ts","webpack://@spree/storefront-api-v2-sdk/./src/routes.ts","webpack://@spree/storefront-api-v2-sdk/external \"axios\"","webpack://@spree/storefront-api-v2-sdk/external \"lodash/get\"","webpack://@spree/storefront-api-v2-sdk/external \"qs\"","webpack://@spree/storefront-api-v2-sdk/webpack/bootstrap","webpack://@spree/storefront-api-v2-sdk/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(global, function() {\nreturn ","import { Account, Products, Taxons, Countries, Cart, Checkout, Authentication, Order, Pages, Stores } from './endpoints'\nimport createFetcherFromType from './helpers/createFetcherFromType'\nimport type { Fetcher, IClientConfig, OptionalIClientConfig } from './interfaces/ClientConfig'\n\nclass Client {\n  public products: Products\n  public taxons: Taxons\n  public countries: Countries\n  public cart: Cart\n  public checkout: Checkout\n  public authentication: Authentication\n  public account: Account\n  public order: Order\n  public pages: Pages\n  public stores: Stores\n\n  protected host: string\n  protected fetcher: Fetcher\n\n  constructor(customOptions?: OptionalIClientConfig) {\n    const spreeHostEnvironmentValue: string | null = (globalThis.process && globalThis.process.env.SPREE_HOST) || null\n\n    const defaultOptions: IClientConfig = {\n      host: spreeHostEnvironmentValue || 'http://localhost:3000/',\n      fetcherType: 'axios'\n    }\n\n    const options: IClientConfig = {\n      ...defaultOptions,\n      ...customOptions\n    }\n\n    this.fetcher = createFetcherFromType({\n      host: options.host,\n      fetcherType: options.fetcherType,\n      createFetcher: options['createFetcher']\n    })\n\n    this.addEndpoints()\n  }\n\n  protected addEndpoints(): void {\n    this.account = this.makeAccount()\n    this.authentication = this.makeAuthentication()\n    this.cart = this.makeCart()\n    this.checkout = this.makeCheckout()\n    this.countries = this.makeCountries()\n    this.order = this.makeOrder()\n    this.pages = this.makePages()\n    this.products = this.makeProducts()\n    this.taxons = this.makeTaxons()\n    this.stores = this.makeStores()\n  }\n\n  protected makeAccount(): Account {\n    return new Account({ fetcher: this.fetcher })\n  }\n\n  protected makeAuthentication(): Authentication {\n    return new Authentication({ fetcher: this.fetcher })\n  }\n\n  protected makeCart(): Cart {\n    return new Cart({ fetcher: this.fetcher })\n  }\n\n  protected makeCheckout(): Checkout {\n    return new Checkout({ fetcher: this.fetcher })\n  }\n\n  protected makeCountries(): Countries {\n    return new Countries({ fetcher: this.fetcher })\n  }\n\n  protected makeStores(): Stores {\n    return new Stores({ fetcher: this.fetcher })\n  }\n\n  protected makeOrder(): Order {\n    return new Order({ fetcher: this.fetcher })\n  }\n\n  protected makePages(): Pages {\n    return new Pages({ fetcher: this.fetcher })\n  }\n\n  protected makeProducts(): Products {\n    return new Products({ fetcher: this.fetcher })\n  }\n\n  protected makeTaxons(): Taxons {\n    return new Taxons({ fetcher: this.fetcher })\n  }\n}\n\nexport default Client\n","import {\n  BasicSpreeError,\n  ExpandedSpreeError,\n  MisconfigurationError,\n  NoResponseError,\n  SpreeError,\n  SpreeSDKError\n} from './errors'\nimport FetchError from './errors/FetchError'\nimport * as result from './helpers/result'\nimport type { Fetcher } from './interfaces/ClientConfig'\nimport { ErrorClass } from './interfaces/errors/ErrorClass'\nimport type { FetchConfig, HttpMethod } from './interfaces/FetchConfig'\nimport type { JsonApiResponse } from './interfaces/JsonApi'\nimport type { ResultResponse } from './interfaces/ResultResponse'\nimport type { IToken } from './interfaces/Token'\n\nexport type EndpointOptions = {\n  fetcher: Fetcher\n}\n\nexport default class Http {\n  public fetcher: Fetcher\n\n  constructor({ fetcher }: EndpointOptions) {\n    this.fetcher = fetcher\n  }\n\n  protected async spreeResponse<ResponseType = JsonApiResponse>(\n    method: HttpMethod,\n    url: string,\n    tokens: IToken = {},\n    params: any = {}\n  ): Promise<ResultResponse<ResponseType>> {\n    try {\n      const headers = this.spreeOrderHeaders(tokens)\n\n      const fetchOptions: FetchConfig = {\n        url,\n        params,\n        method,\n        headers\n      }\n\n      const response = await this.fetcher.fetch(fetchOptions)\n\n      return result.makeSuccess(response.data)\n    } catch (error) {\n      return result.makeFail(this.processError(error))\n    }\n  }\n\n  /**\n   * The HTTP error code returned by Spree is not indicative of its response shape.\n   * This function determines the information provided by Spree and uses everything available.\n   */\n  protected classifySpreeError(error: FetchError): ErrorClass {\n    const { error: errorSummary, errors } = error.data\n\n    if (typeof errorSummary === 'string') {\n      if (typeof errors === 'object') {\n        return ErrorClass.FULL\n      }\n      return ErrorClass.BASIC\n    }\n    return ErrorClass.LIMITED\n  }\n\n  protected processError(error: Error): SpreeSDKError {\n    if (error instanceof FetchError) {\n      if (error.response) {\n        // Error from Spree outside HTTP 2xx codes\n        return this.processSpreeError(error)\n      }\n\n      if (error.request) {\n        // No response received from Spree\n        return new NoResponseError()\n      }\n\n      // Incorrect request setup\n      return new MisconfigurationError(error.message)\n    }\n\n    return new SpreeSDKError(error.message)\n  }\n\n  protected processSpreeError(error: FetchError): SpreeError {\n    const { error: errorSummary, errors } = error.data\n    const errorClass = this.classifySpreeError(error)\n\n    if (errorClass === ErrorClass.FULL) {\n      return new ExpandedSpreeError(error.response, errorSummary, errors)\n    } else if (errorClass === ErrorClass.BASIC) {\n      return new BasicSpreeError(error.response, errorSummary)\n    } else {\n      return new SpreeError(error.response)\n    }\n  }\n\n  protected spreeOrderHeaders(tokens: IToken): { [headerName: string]: string } {\n    const header = {}\n\n    if (tokens.orderToken) {\n      header['X-Spree-Order-Token'] = tokens.orderToken\n    }\n\n    if (tokens.bearerToken) {\n      header['Authorization'] = `Bearer ${tokens.bearerToken}`\n    }\n\n    return header\n  }\n}\n","import Http from '../Http'\nimport type {\n  IAccountResult,\n  IAccountConfirmationResult,\n  IAccountConfirmation,\n  AccountAddressesResult,\n  AccountAddressResult,\n  AccountAddressParams,\n  AccountAddressResponse,\n  ForgotPasswordParams,\n  ResetPasswordParams,\n  IAccount,\n  AccountAddressesResponse\n} from '../interfaces/Account'\nimport type { ICreditCard, ICreditCardResult, ICreditCards, ICreditCardsResult } from '../interfaces/CreditCard'\nimport type { NoContentResponse, NoContentResult } from '../interfaces/NoContent'\nimport type { IOrder, IOrderResult, IOrders, IOrdersResult } from '../interfaces/Order'\nimport type { IQuery } from '../interfaces/Query'\nimport type { IToken } from '../interfaces/Token'\nimport routes from '../routes'\n\nexport default class Account extends Http {\n  public async accountInfo(token: IToken, params: IQuery = {}): Promise<IAccountResult> {\n    return await this.spreeResponse<IAccount>('get', routes.accountPath(), token, params)\n  }\n\n  public async creditCardsList(token: IToken, params: IQuery = {}): Promise<ICreditCardsResult> {\n    return await this.spreeResponse<ICreditCards>('get', routes.accountCreditCardsPath(), token, params)\n  }\n\n  public async defaultCreditCard(token: IToken, params: IQuery = {}): Promise<ICreditCardResult> {\n    return await this.spreeResponse<ICreditCard>('get', routes.accountDefaultCreditCardPath(), token, params)\n  }\n\n  public async completedOrdersList(token: IToken, params: IQuery = {}): Promise<IOrdersResult> {\n    return await this.spreeResponse<IOrders>('get', routes.accountCompletedOrdersPath(), token, params)\n  }\n\n  public async completedOrder(token: IToken, orderNumber: string, params: IQuery = {}): Promise<IOrderResult> {\n    return await this.spreeResponse<IOrder>('get', routes.accountCompletedOrderPath(orderNumber), token, params)\n  }\n\n  public async create(params: IQuery): Promise<IAccountResult> {\n    return await this.spreeResponse<IAccount>('post', routes.accountPath(), {}, params)\n  }\n\n  public async confirm(confirmationToken: string): Promise<IAccountConfirmationResult> {\n    return await this.spreeResponse<IAccountConfirmation>('get', routes.accountConfirmPath(confirmationToken))\n  }\n\n  public async forgotPassword(params: ForgotPasswordParams): Promise<NoContentResult> {\n    return await this.spreeResponse<NoContentResponse>('post', routes.forgotPasswordPath(), {}, params)\n  }\n\n  public async resetPassword(resetPasswordToken: string, params: ResetPasswordParams): Promise<NoContentResult> {\n    return await this.spreeResponse<NoContentResponse>(\n      'patch',\n      routes.resetPasswordPath(resetPasswordToken),\n      {},\n      params\n    )\n  }\n\n  public async update(token: IToken, params: IQuery): Promise<IAccountResult> {\n    return await this.spreeResponse<IAccount>('patch', routes.accountPath(), token, params)\n  }\n\n  public async addressesList(token: IToken): Promise<AccountAddressesResult> {\n    return await this.spreeResponse<AccountAddressesResponse>('get', routes.accountAddressesPath(), token)\n  }\n\n  public async showAddress(token: IToken, addressId: string, params: IQuery = {}): Promise<AccountAddressResult> {\n    return await this.spreeResponse<AccountAddressResponse>('get', routes.accountAddressPath(addressId), token, params)\n  }\n\n  public async createAddress(token: IToken, params: AccountAddressParams): Promise<AccountAddressResult> {\n    return await this.spreeResponse<AccountAddressResponse>('post', routes.accountAddressesPath(), token, params)\n  }\n\n  public async removeAddress(token: IToken, id: string, params: IQuery = {}): Promise<NoContentResult> {\n    return await this.spreeResponse<NoContentResponse>('delete', routes.accountAddressRemovePath(id), token, params)\n  }\n\n  public async updateAddress(\n    token: IToken,\n    addressId: string,\n    params: AccountAddressParams\n  ): Promise<AccountAddressResult> {\n    return await this.spreeResponse<AccountAddressResponse>(\n      'patch',\n      routes.accountAddressPath(addressId),\n      token,\n      params\n    )\n  }\n}\n","import { authParams, refreshParams, revokeParams } from '../helpers/auth'\nimport Http from '../Http'\nimport type { AuthTokenAttr, RefreshTokenAttr, RevokeTokenAttr } from '../interfaces/Authentication'\nimport type { IOAuthToken, IOAuthTokenResult } from '../interfaces/Token'\nimport type { EmptyObjectResponse, EmptyObjectResult } from '../interfaces/EmptyObject'\nimport routes from '../routes'\n\nexport default class Authentication extends Http {\n  public async getToken(params: AuthTokenAttr): Promise<IOAuthTokenResult> {\n    return await this.spreeResponse<IOAuthToken>('post', routes.oauthTokenPath(), {}, authParams(params))\n  }\n  public async refreshToken(params: RefreshTokenAttr): Promise<IOAuthTokenResult> {\n    return await this.spreeResponse<IOAuthToken>('post', routes.oauthTokenPath(), {}, refreshParams(params))\n  }\n  public async revokeToken(params: RevokeTokenAttr): Promise<EmptyObjectResult> {\n    return await this.spreeResponse<EmptyObjectResponse>('post', routes.oauthRevokePath(), {}, revokeParams(params))\n  }\n}\n","import Http from '../Http'\nimport type { AddItem, CouponCode, EstimateShippingMethods, SetQuantity, AssociateCart } from '../interfaces/endpoints/CartClass'\nimport type { IEstimatedShippingMethods, IEstimatedShippingMethodsResult } from '../interfaces/EstimatedShippingMethod'\nimport type { IOrder, IOrderResult } from '../interfaces/Order'\nimport type { NoContentResponse, NoContentResult } from '../interfaces/NoContent'\nimport type { IQuery } from '../interfaces/Query'\nimport type { IToken } from '../interfaces/Token'\nimport routes from '../routes'\n\nexport default class Cart extends Http {\n  public async show(token: IToken, params: IQuery = {}): Promise<IOrderResult> {\n    return await this.spreeResponse<IOrder>('get', routes.cartPath(), token, params)\n  }\n\n  public async create(token?: IToken, params: IQuery = {}): Promise<IOrderResult> {\n    return await this.spreeResponse<IOrder>('post', routes.cartPath(), token, params)\n  }\n\n  public async addItem(token: IToken, params: AddItem): Promise<IOrderResult> {\n    return await this.spreeResponse<IOrder>('post', routes.cartAddItemPath(), token, params)\n  }\n\n  public async removeItem(token: IToken, id: string, params: IQuery = {}): Promise<IOrderResult> {\n    return await this.spreeResponse<IOrder>('delete', routes.cartRemoveItemPath(id), token, params)\n  }\n\n  public async emptyCart(token: IToken, params: IQuery = {}): Promise<IOrderResult> {\n    return await this.spreeResponse<IOrder>('patch', routes.cartEmptyPath(), token, params)\n  }\n\n  public async remove(token: IToken, params: IQuery = {}): Promise<NoContentResult> {\n    return await this.spreeResponse<NoContentResponse>('delete', routes.cartPath(), token, params)\n  }\n\n  public async setQuantity(token: IToken, params: SetQuantity): Promise<IOrderResult> {\n    return await this.spreeResponse<IOrder>('patch', routes.cartSetItemQuantity(), token, params)\n  }\n\n  public async applyCouponCode(token: IToken, params: CouponCode): Promise<IOrderResult> {\n    return await this.spreeResponse<IOrder>('patch', routes.cartApplyCodePath(), token, params)\n  }\n\n  public async removeCouponCode(token: IToken, code: string = null, params: IQuery = {}): Promise<IOrderResult> {\n    let route = ''\n\n    if (code !== null) {\n      route = routes.cartRemoveCodePath(code)\n    } else {\n      route = routes.cartRemoveCodePath('')\n    }\n\n    return await this.spreeResponse<IOrder>('delete', route, token, params)\n  }\n\n  public async estimateShippingMethods(\n    token: IToken,\n    params: EstimateShippingMethods\n  ): Promise<IEstimatedShippingMethodsResult> {\n    return await this.spreeResponse<IEstimatedShippingMethods>(\n      'get',\n      routes.cartEstimateShippingMethodsPath(),\n      token,\n      params\n    )\n  }\n\n  public async associateGuestCart(token: IToken, params: AssociateCart): Promise<IOrderResult> {\n    return await this.spreeResponse<IOrder>('patch', routes.cartAssociatePath(), token, params)\n  }\n}\n","import Http from '../Http'\nimport type { AddStoreCredit, NestedAttributes } from '../interfaces/endpoints/CheckoutClass'\nimport type { IOrder, IOrderResult } from '../interfaces/Order'\nimport type { IPaymentMethods, IPaymentMethodsResult } from '../interfaces/PaymentMethod'\nimport type { IQuery } from '../interfaces/Query'\nimport type { IShippingMethods, IShippingMethodsResult } from '../interfaces/ShippingMethod'\nimport type { IToken } from '../interfaces/Token'\nimport routes from '../routes'\n\nexport default class Checkout extends Http {\n  public async orderNext(token: IToken, params: IQuery = {}): Promise<IOrderResult> {\n    return await this.spreeResponse<IOrder>('patch', routes.checkoutNextPath(), token, params)\n  }\n\n  public async orderUpdate(token: IToken, params: NestedAttributes): Promise<IOrderResult> {\n    return await this.spreeResponse<IOrder>('patch', routes.checkoutPath(), token, params)\n  }\n\n  public async advance(token: IToken, params: IQuery = {}): Promise<IOrderResult> {\n    return await this.spreeResponse<IOrder>('patch', routes.checkoutAdvancePath(), token, params)\n  }\n\n  public async complete(token: IToken, params: IQuery = {}): Promise<IOrderResult> {\n    return await this.spreeResponse<IOrder>('patch', routes.checkoutCompletePath(), token, params)\n  }\n\n  public async addStoreCredits(token: IToken, params: AddStoreCredit): Promise<IOrderResult> {\n    return await this.spreeResponse<IOrder>('post', routes.checkoutAddStoreCreditsPath(), token, params)\n  }\n\n  public async removeStoreCredits(token: IToken, params: IQuery = {}): Promise<IOrderResult> {\n    return await this.spreeResponse<IOrder>('post', routes.checkoutRemoveStoreCreditsPath(), token, params)\n  }\n\n  public async paymentMethods(token: IToken): Promise<IPaymentMethodsResult> {\n    return await this.spreeResponse<IPaymentMethods>('get', routes.checkoutPaymentMethodsPath(), token)\n  }\n\n  public async shippingMethods(token: IToken, params: IQuery = {}): Promise<IShippingMethodsResult> {\n    return await this.spreeResponse<IShippingMethods>('get', routes.checkoutShippingMethodsPath(), token, params)\n  }\n}\n","import Http from '../Http'\nimport type { ICountries, ICountriesResult, ICountry, ICountryResult } from '../interfaces/Country'\nimport type { IQuery } from '../interfaces/Query'\nimport routes from '../routes'\n\nexport default class Countries extends Http {\n  public async list(): Promise<ICountriesResult> {\n    return await this.spreeResponse<ICountries>('get', routes.countriesPath())\n  }\n\n  public async show(iso: string, params: IQuery = {}): Promise<ICountryResult> {\n    return await this.spreeResponse<ICountry>('get', routes.countryPath(iso), {}, params)\n  }\n}\n","import Http from '../Http'\nimport type { IOrder, IOrderResult } from '../interfaces/Order'\nimport type { IQuery } from '../interfaces/Query'\nimport type { IToken } from '../interfaces/Token'\nimport routes from '../routes'\n\nexport default class Order extends Http {\n  public async status(token: IToken, orderNumber: string, params: IQuery = {}): Promise<IOrderResult> {\n    return await this.spreeResponse<IOrder>('get', routes.orderStatusPath(orderNumber), token, params)\n  }\n}\n","import Http from '../Http'\nimport type { IPage, IPageResult, IPages, IPagesResult } from '../interfaces/Page'\nimport type { IQuery } from '../interfaces/Query'\nimport routes from '../routes'\n\nexport default class Pages extends Http {\n  public async list(params: IQuery = {}): Promise<IPagesResult> {\n    return await this.spreeResponse<IPages>('get', routes.pagesPath(), {}, params)\n  }\n\n  public async show(id: string, params: IQuery = {}): Promise<IPageResult> {\n    return await this.spreeResponse<IPage>('get', routes.pagePath(id), {}, params)\n  }\n}\n","import Http from '../Http'\nimport type { IProduct, IProductResult, IProducts, IProductsResult } from '../interfaces/Product'\nimport type { IProductsQuery } from '../interfaces/Query'\nimport type { IToken } from '../interfaces/Token'\nimport routes from '../routes'\n\nexport default class Products extends Http {\n  public async list(token: IToken = {}, params: IProductsQuery = {}): Promise<IProductsResult> {\n    return await this.spreeResponse<IProducts>('get', routes.productsPath(), token, params)\n  }\n\n  public async show(id: string, token: IToken = {}, params: IProductsQuery = {}): Promise<IProductResult> {\n    return await this.spreeResponse<IProduct>('get', routes.productPath(id), token, params)\n  }\n}\n","import Http from '../Http'\nimport type { IStores, IStoresResult, IStore, IStoreResult } from '../interfaces/Store'\nimport type { IQuery } from '../interfaces/Query'\nimport routes from '../routes'\n\nexport default class Stores extends Http {\n  public async list(): Promise<IStoresResult> {\n    return await this.spreeResponse<IStores>('get', routes.storesPath())\n  }\n  public async show(code: string, params: IQuery = {}): Promise<IStoreResult> {\n    return await this.spreeResponse<IStore>('get', routes.storePath(code), {}, params)\n  }\n}\n","import Http from '../Http'\nimport type { IQuery } from '../interfaces/Query'\nimport type { ITaxon, ITaxonResult, ITaxons, ITaxonsResult } from '../interfaces/Taxon'\nimport routes from '../routes'\n\nexport default class Taxons extends Http {\n  public async list(params: IQuery = {}): Promise<ITaxonsResult> {\n    return await this.spreeResponse<ITaxons>('get', routes.taxonsPath(), {}, params)\n  }\n\n  public async show(id: string, params: IQuery = {}): Promise<ITaxonResult> {\n    return await this.spreeResponse<ITaxon>('get', routes.taxonPath(id), {}, params)\n  }\n}\n","import Account from './Account'\nimport Authentication from './Authentication'\nimport Cart from './Cart'\nimport Checkout from './Checkout'\nimport Countries from './Countries'\nimport Order from './Order'\nimport Pages from './Pages'\nimport Products from './Products'\nimport Taxons from './Taxons'\nimport Stores from './Stores'\n\nexport { Account, Authentication, Cart, Checkout, Countries, Order, Products, Pages, Taxons, Stores }\n","import type { RawFetchResponse } from '../interfaces/RawFetchResponse'\nimport SpreeError from './SpreeError'\n\nclass BasicSpreeError extends SpreeError {\n  public summary: string\n\n  constructor(serverResponse: RawFetchResponse, errorsSummary: string) {\n    super(serverResponse)\n    Object.setPrototypeOf(this, BasicSpreeError.prototype)\n    this.name = 'BasicSpreeError'\n    this.summary = errorsSummary\n  }\n}\n\nexport default BasicSpreeError\n","import SpreeSDKError from './SpreeSDKError'\n\nexport default class CastError extends SpreeSDKError {\n  constructor(message: string) {\n    super(message)\n    Object.setPrototypeOf(this, CastError.prototype)\n    this.name = 'CastError'\n  }\n}\n","import SpreeSDKError from './SpreeSDKError'\n\nexport default class DeserializeError extends SpreeSDKError {\n  constructor(message: string) {\n    super(message)\n    Object.setPrototypeOf(this, DeserializeError.prototype)\n    this.name = 'DeserializeError'\n  }\n}\n","import SpreeSDKError from './SpreeSDKError'\n\nexport default class DocumentRelationshipError extends SpreeSDKError {\n  constructor(message: string) {\n    super(message)\n    Object.setPrototypeOf(this, DocumentRelationshipError.prototype)\n    this.name = 'DocumentRelationshipError'\n  }\n}\n","import get from 'lodash/get'\nimport { Errors, FieldErrors } from '../interfaces/errors/Errors'\nimport type { RawFetchResponse } from '../interfaces/RawFetchResponse'\nimport BasicSpreeError from './BasicSpreeError'\n\nexport default class ExpandedSpreeError extends BasicSpreeError {\n  public errors: Errors\n\n  constructor(serverResponse: RawFetchResponse, errorsSummary: string, errors: { [fieldPath: string]: FieldErrors }) {\n    super(serverResponse, errorsSummary)\n    Object.setPrototypeOf(this, ExpandedSpreeError.prototype)\n    this.name = 'ExpandedSpreeError'\n    this.errors = Object.keys(errors).reduce((acc, fieldPath) => {\n      const keys = fieldPath.split('.')\n      let key = keys.shift()\n      let node = acc\n\n      while (key) {\n        if (!node[key]) {\n          if (keys.length === 0) {\n            node[key] = errors[fieldPath]\n          } else {\n            node[key] = {}\n          }\n        }\n\n        node = node[key]\n        key = keys.shift()\n      }\n\n      return acc\n    }, {})\n  }\n\n  public getErrors(path: string[]): Errors | FieldErrors | null {\n    return get(this.errors, path, null)\n  }\n}\n","import type { RawFetchRequest } from '../interfaces/RawFetchRequest'\nimport type { RawFetchResponse } from '../interfaces/RawFetchResponse'\nimport SpreeSDKError from './SpreeSDKError'\n\nexport default class FetchError extends SpreeSDKError {\n  public response?: RawFetchResponse\n  public request?: RawFetchRequest\n  public data?: any\n\n  constructor(response?: RawFetchResponse, request?: unknown, data?: unknown, message?: string) {\n    super(message)\n    Object.setPrototypeOf(this, FetchError.prototype)\n    this.name = 'FetchError'\n    this.response = response\n    this.request = request\n    this.data = data\n  }\n}\n","import SpreeSDKError from './SpreeSDKError'\n\nexport default class MisconfigurationError extends SpreeSDKError {\n  constructor(message: string) {\n    super(`Incorrect request setup: ${message}`)\n    Object.setPrototypeOf(this, MisconfigurationError.prototype)\n    this.name = 'MisconfigurationError'\n  }\n}\n","import SpreeSDKError from './SpreeSDKError'\n\nexport default class NoResponseError extends SpreeSDKError {\n  constructor() {\n    super('No response received from Spree')\n    Object.setPrototypeOf(this, NoResponseError.prototype)\n    this.name = 'NoResponseError'\n  }\n}\n","import type { RawFetchResponse } from '../interfaces/RawFetchResponse'\nimport SpreeSDKError from './SpreeSDKError'\n\nexport default class SpreeError extends SpreeSDKError {\n  public serverResponse: RawFetchResponse\n\n  constructor(serverResponse: RawFetchResponse) {\n    super(`Spree returned a HTTP ${serverResponse.status} error code`)\n    Object.setPrototypeOf(this, SpreeError.prototype)\n    this.name = 'SpreeError'\n    this.serverResponse = serverResponse\n  }\n}\n","export default class SpreeSDKError extends Error {\n  constructor(message: string) {\n    super(message)\n    Object.setPrototypeOf(this, SpreeSDKError.prototype)\n    this.name = 'SpreeSDKError'\n  }\n}\n","import BasicSpreeError from './BasicSpreeError'\nimport ExpandedSpreeError from './ExpandedSpreeError'\nimport MisconfigurationError from './MisconfigurationError'\nimport NoResponseError from './NoResponseError'\nimport SpreeError from './SpreeError'\nimport SpreeSDKError from './SpreeSDKError'\nimport FetchError from './FetchError'\nimport DocumentRelationshipError from './DocumentRelationshipError'\n\nexport {\n  BasicSpreeError,\n  ExpandedSpreeError,\n  MisconfigurationError,\n  NoResponseError,\n  SpreeError,\n  SpreeSDKError,\n  FetchError,\n  DocumentRelationshipError\n}\n","import * as qs from 'qs'\nimport type { AxiosInstance } from 'axios'\nimport type { CreateFetcher } from '../interfaces/ClientConfig'\nimport FetchError from '../errors/FetchError'\n\nconst createAxiosFetcher: CreateFetcher = (fetcherOptions) => {\n  // eslint-disable-next-line @typescript-eslint/no-var-requires\n  const Axios = require('axios')\n\n  const axios: AxiosInstance = Axios.create({\n    baseURL: fetcherOptions.host,\n    headers: { 'Content-Type': 'application/json' },\n    paramsSerializer: (params) => {\n      return qs.stringify(params, { arrayFormat: 'brackets' })\n    }\n  })\n\n  return {\n    fetch: async (fetchOptions) => {\n      try {\n        const { url, params, method, headers } = fetchOptions\n        let payload\n\n        switch (method.toUpperCase()) {\n          case 'PUT':\n          case 'POST':\n          case 'DELETE':\n          case 'PATCH':\n            payload = { data: params }\n            break\n          default:\n            payload = { params }\n        }\n\n        const response = await axios({\n          url,\n          method: method.toUpperCase(),\n          headers,\n          ...payload\n        })\n\n        return { data: response.data }\n      } catch (error) {\n        if (Axios.isAxiosError(error)) {\n          const { response } = error\n\n          if (!response) {\n            throw new FetchError(null, error.request, null, error.message)\n          }\n\n          const reducedResponse = { ...response }\n\n          // Reduce logging by removing the 'enumerable' flag on some keys in AxiosResponse.\n          Object.defineProperties(reducedResponse, {\n            config: { enumerable: false },\n            data: { enumerable: false },\n            headers: { enumerable: false },\n            request: { enumerable: false }\n          })\n\n          throw new FetchError(reducedResponse, error.request, reducedResponse.data, error.message)\n        }\n\n        throw new FetchError(null, null, null, error.message)\n      }\n    }\n  }\n}\n\nexport default createAxiosFetcher\n","import * as qs from 'qs'\nimport FetchError from '../errors/FetchError'\nimport type { CreateFetcher } from '../interfaces/ClientConfig'\nimport type { CreateCustomizedFetchFetcher } from '../interfaces/CreateCustomizedFetchFetcher'\n\n// declare const FETCH_TYPE: string\ndeclare const __non_webpack_require__: (module: string) => any\n\nconst createCustomizedFetchFetcher: CreateCustomizedFetchFetcher = (fetcherOptions) => {\n  const sharedHeaders = { 'Content-Type': 'application/json' }\n\n  const { host, fetch, requestConstructor } = fetcherOptions\n\n  return {\n    fetch: async (fetchOptions) => {\n      try {\n        const { url, params, method, headers } = fetchOptions\n        const absoluteUrl = new URL(url, host)\n        let payload\n\n        switch (method.toUpperCase()) {\n          case 'PUT':\n          case 'POST':\n          case 'DELETE':\n          case 'PATCH':\n            payload = { body: JSON.stringify(params) }\n            break\n          default:\n            payload = null\n            absoluteUrl.search = qs.stringify(params, { arrayFormat: 'brackets' })\n        }\n\n        const request = new requestConstructor(absoluteUrl.toString(), {\n          method: method.toUpperCase(),\n          headers: { ...sharedHeaders, ...headers },\n          ...payload\n        })\n\n        try {\n          const response = await fetch(request)\n          const responseContentType = response.headers.get('content-type')\n          let data\n\n          if (\n            !responseContentType ||\n            (!responseContentType.includes('application/json') &&\n              !responseContentType.includes('application/vnd.api+json'))\n          ) {\n            data = await response.text()\n          } else {\n            data = await response.json()\n          }\n\n          if (!response.ok) {\n            // Use the \"traditional\" approach and reject non 2xx responses.\n            throw new FetchError(response, request, data)\n          }\n\n          return { data }\n        } catch (error) {\n          if (error instanceof FetchError) {\n            throw error\n          }\n\n          throw new FetchError(null, request, null, error.message)\n        }\n      } catch (error) {\n        if (error instanceof FetchError) {\n          throw error\n        }\n\n        throw new FetchError(null, null, null, error.message)\n      }\n    }\n  }\n}\n\nconst createFetchFetcher: CreateFetcher = (fetcherOptions) => {\n  let fetch\n  let Request\n\n  if (globalThis.fetch && globalThis.Request) {\n    fetch = globalThis.fetch\n    Request = globalThis.Request\n  } else {\n    const nodeFetch = __non_webpack_require__('node-fetch')\n\n    fetch = nodeFetch.default\n    Request = nodeFetch.Request\n  }\n\n  return createCustomizedFetchFetcher({ fetch, requestConstructor: Request, ...fetcherOptions })\n}\n\nexport { createCustomizedFetchFetcher }\n\nexport default createFetchFetcher\n","import { AuthTokenAttr, AuthTokenParams, RefreshTokenAttr, RefreshTokenParams, RevokeTokenAttr, RevokeTokenParams } from '../interfaces/Authentication'\n\nexport const authParams = ({ username, password }: AuthTokenAttr): AuthTokenParams => ({\n  username,\n  password,\n  grant_type: 'password'\n})\n\nexport const refreshParams = ({ refresh_token }: RefreshTokenAttr): RefreshTokenParams => ({\n  refresh_token,\n  grant_type: 'refresh_token'\n})\n\nexport const revokeParams = ({ token }: RevokeTokenAttr): RevokeTokenParams => ({\n  token\n})\n","import MisconfigurationError from '../errors/MisconfigurationError'\nimport createAxiosFetcher from '../fetchers/createAxiosFetcher'\nimport createFetchFetcher from '../fetchers/createFetchFetcher'\nimport type { CreateFetcherConfig, Fetcher, IClientConfig } from '../interfaces/ClientConfig'\n\nconst createFetcherFromType = (options: IClientConfig): Fetcher => {\n  const fetcherOptions: CreateFetcherConfig = { host: options.host }\n\n  switch (options.fetcherType) {\n    case 'axios':\n      return createAxiosFetcher(fetcherOptions)\n    case 'fetch':\n      return createFetchFetcher(fetcherOptions)\n    case 'custom':\n      return options.createFetcher(fetcherOptions)\n    default:\n      throw new MisconfigurationError(`${options['fetcher']} is not supported as a fetcher type.`)\n  }\n}\n\nexport default createFetcherFromType\n","import type { JsonApiDocument, JsonApiResponse } from '../interfaces/JsonApi'\nimport type { RelationType } from '../interfaces/Relationships'\nimport { DocumentRelationshipError } from '../errors'\n\nconst findDocument = <DocumentType extends JsonApiDocument>(\n  spreeSuccessResponse: JsonApiResponse,\n  relationType: RelationType\n): DocumentType | null => {\n  if (!spreeSuccessResponse.included) {\n    return null\n  }\n\n  return (\n    (spreeSuccessResponse.included.find(\n      (includedObject) => includedObject.type === relationType.type && includedObject.id === relationType.id\n    ) as DocumentType) || null\n  )\n}\n\nconst findRelationshipDocuments = <DocumentType extends JsonApiDocument>(\n  spreeSuccessResponse: JsonApiResponse,\n  sourceDocument: JsonApiDocument,\n  relationshipName: string\n): DocumentType[] => {\n  if (!spreeSuccessResponse.included) {\n    return []\n  }\n\n  const oneOrManyDocumentReferences = (sourceDocument.relationships[relationshipName] || {}).data\n\n  if (!oneOrManyDocumentReferences) {\n    throw new DocumentRelationshipError(`Incorrect relationship ${relationshipName}.`)\n  }\n\n  let documentReferences: RelationType[]\n\n  if (Array.isArray(oneOrManyDocumentReferences)) {\n    documentReferences = oneOrManyDocumentReferences\n  } else {\n    documentReferences = [oneOrManyDocumentReferences]\n  }\n\n  return documentReferences\n    .map<DocumentType>((relationType: RelationType) => findDocument<DocumentType>(spreeSuccessResponse, relationType))\n    .filter(Boolean)\n}\n\nconst findSingleRelationshipDocument = <DocumentType extends JsonApiDocument>(\n  spreeSuccessResponse: JsonApiResponse,\n  sourceDocument: JsonApiDocument,\n  relationshipName: string\n): DocumentType | null => {\n  const documents = findRelationshipDocuments<DocumentType>(spreeSuccessResponse, sourceDocument, relationshipName)\n\n  if (documents.length === 0) {\n    return null\n  }\n\n  return documents[0]\n}\n\nexport { findDocument, findRelationshipDocuments, findSingleRelationshipDocument }\n","import * as errors from '../errors'\nimport CastError from '../errors/CastError'\nimport DeserializeError from '../errors/DeserializeError'\nimport { Result } from '../interfaces/Result'\n\nconst makeSuccess = <F extends Error, S>(value: S): Result<F, S> => {\n  return {\n    isSuccess: () => true,\n    isFail: () => false,\n    success: () => value,\n    fail: () => {\n      throw new Error('Cannot call fail() on success.')\n    }\n  }\n}\n\nconst makeFail = <F extends Error, S>(value: F): Result<F, S> => {\n  return {\n    isSuccess: () => false,\n    isFail: () => true,\n    success: () => {\n      throw new Error('Cannot call success() on fail.')\n    },\n    fail: () => value\n  }\n}\n\n/**\n * Converts a Result instance into its JSON representation.\n * Not all information is preserved from the Result instance.\n * Most notably, non-enumerable properties are skipped.\n */\nconst toJson = <F extends Error, S>(result: Result<F, S>): { type: string; subtype: string; value?: any } => {\n  if (result.isSuccess()) {\n    return {\n      type: 'SpreeSDKResult',\n      subtype: 'success',\n      value: result.success()\n    }\n  } else {\n    return {\n      type: 'SpreeSDKResult',\n      subtype: 'fail',\n      value: { ...result.fail() }\n    }\n  }\n}\n\nconst castError = (error: { name: string; message: string; stack? }): errors.SpreeSDKError => {\n  if (!(error.name in errors)) {\n    throw new CastError('Error not recognized')\n  }\n\n  return Object.assign(Object.create(errors[error.name].prototype), error)\n}\n\n/**\n * Converts JSON to a Result instance.\n * If the JSON represents a fail, converts the error into an instance of SpreeSDKError its subtype.\n */\nconst fromJson = (json: { [key: string]: any }): Result<errors.SpreeSDKError, any> => {\n  if (json.type === 'SpreeSDKResult') {\n    if (json.subtype === 'success') {\n      return makeSuccess(json.value)\n    } else if (json.subtype === 'fail') {\n      return makeFail(castError(json.value))\n    } else {\n      throw new DeserializeError('Expected success or fail subtype.')\n    }\n  }\n\n  throw new DeserializeError('Unknown signature.')\n}\n\nexport { makeSuccess, makeFail, toJson, fromJson }\n","import Client from './Client'\nimport * as errors from './errors'\nimport * as result from './helpers/result'\nimport * as jsonApi from './helpers/jsonApi'\nimport Http from './Http'\nimport routes, { storefrontPath } from './routes'\nimport * as endpoints from './endpoints'\nimport makeClient from './makeClient'\n\nexport { Client, Http, result, errors, makeClient, endpoints, routes, storefrontPath, jsonApi }\n","export enum ErrorClass {\n  BASIC,\n  FULL,\n  LIMITED\n}\n","import Client from './Client'\nimport type { OptionalIClientConfig } from './interfaces/ClientConfig'\n\nconst makeClient = (config: OptionalIClientConfig): Client => new Client(config)\n\nexport default makeClient\n","export const storefrontPath = `api/v2/storefront`\n\nconst endpoints = {\n  productsPath: (): string => `${storefrontPath}/products`,\n  productPath: (id: string): string => `${storefrontPath}/products/${id}`,\n  taxonsPath: (): string => `${storefrontPath}/taxons`,\n  taxonPath: (id: string): string => `${storefrontPath}/taxons/${id}`,\n  countriesPath: (): string => `${storefrontPath}/countries`,\n  countryPath: (iso: string): string => `${storefrontPath}/countries/${iso}`,\n  storesPath: (): string => `${storefrontPath}/stores`,\n  storePath: (code: string): string => `${storefrontPath}/stores/${code}`,\n  cartPath: (): string => `${storefrontPath}/cart`,\n  cartAddItemPath: (): string => `${storefrontPath}/cart/add_item`,\n  cartRemoveItemPath: (id: string): string => `${storefrontPath}/cart/remove_line_item/${id}`,\n  cartEmptyPath: (): string => `${storefrontPath}/cart/empty`,\n  cartSetItemQuantity: (): string => `${storefrontPath}/cart/set_quantity`,\n  cartApplyCodePath: (): string => `${storefrontPath}/cart/apply_coupon_code`,\n  cartRemoveCodePath: (code?: string): string => `${storefrontPath}/cart/remove_coupon_code/${code}`,\n  cartEstimateShippingMethodsPath: (): string => `${storefrontPath}/cart/estimate_shipping_rates`,\n  cartAssociatePath: (): string => `${storefrontPath}/cart/associate`,\n  checkoutPath: (): string => `${storefrontPath}/checkout`,\n  checkoutNextPath: (): string => `${storefrontPath}/checkout/next`,\n  checkoutAdvancePath: (): string => `${storefrontPath}/checkout/advance`,\n  checkoutCompletePath: (): string => `${storefrontPath}/checkout/complete`,\n  checkoutAddStoreCreditsPath: (): string => `${storefrontPath}/checkout/add_store_credit`,\n  checkoutRemoveStoreCreditsPath: (): string => `${storefrontPath}/checkout/remove_store_credit`,\n  checkoutPaymentMethodsPath: (): string => `${storefrontPath}/checkout/payment_methods`,\n  checkoutShippingMethodsPath: (): string => `${storefrontPath}/checkout/shipping_rates`,\n  oauthTokenPath: (): string => `spree_oauth/token`,\n  oauthRevokePath: (): string => `spree_oauth/revoke`,\n  accountPath: (): string => `${storefrontPath}/account`,\n  accountAddressPath: (id: string): string => `${storefrontPath}/account/addresses/${id}`,\n  accountAddressesPath: (): string => `${storefrontPath}/account/addresses`,\n  accountAddressRemovePath: (id: string): string => `${storefrontPath}/account/addresses/${id}`,\n  accountConfirmPath: (confirmationToken: string): string =>\n    `${storefrontPath}/account_confirmations/${confirmationToken}`,\n  accountCreditCardsPath: (): string => `${storefrontPath}/account/credit_cards`,\n  accountDefaultCreditCardPath: (): string => `${storefrontPath}/account/credit_cards/default`,\n  accountCompletedOrdersPath: (): string => `${storefrontPath}/account/orders`,\n  accountCompletedOrderPath: (orderNumber: string): string => `${storefrontPath}/account/orders/${orderNumber}`,\n  forgotPasswordPath: (): string => `${storefrontPath}/passwords`,\n  resetPasswordPath: (resetPasswordToken: string): string => `${storefrontPath}/passwords/${resetPasswordToken}`,\n  orderStatusPath: (orderNumber: string): string => `${storefrontPath}/order_status/${orderNumber}`,\n  pagesPath: (): string => `${storefrontPath}/cms_pages`,\n  pagePath: (id: string): string => `${storefrontPath}/cms_pages/${id}`\n}\n\nexport default endpoints\n","module.exports = require(\"axios\");","module.exports = require(\"lodash/get\");","module.exports = require(\"qs\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(341);\n"],"names":["root","factory","exports","module","define","amd","a","i","global","constructor","customOptions","options","host","globalThis","process","env","SPREE_HOST","fetcherType","this","fetcher","createFetcher","addEndpoints","account","makeAccount","authentication","makeAuthentication","cart","makeCart","checkout","makeCheckout","countries","makeCountries","order","makeOrder","pages","makePages","products","makeProducts","taxons","makeTaxons","stores","makeStores","Account","Authentication","Cart","Checkout","Countries","Stores","Order","Pages","Products","Taxons","method","url","tokens","params","fetchOptions","headers","spreeOrderHeaders","response","fetch","result","makeSuccess","data","error","makeFail","processError","classifySpreeError","errorSummary","errors","ErrorClass","FULL","BASIC","LIMITED","processSpreeError","request","NoResponseError","MisconfigurationError","message","SpreeSDKError","errorClass","ExpandedSpreeError","BasicSpreeError","SpreeError","header","orderToken","bearerToken","token","spreeResponse","accountPath","accountCreditCardsPath","accountDefaultCreditCardPath","accountCompletedOrdersPath","orderNumber","accountCompletedOrderPath","confirmationToken","accountConfirmPath","forgotPasswordPath","resetPasswordToken","resetPasswordPath","accountAddressesPath","addressId","accountAddressPath","id","accountAddressRemovePath","oauthTokenPath","authParams","refreshParams","oauthRevokePath","revokeParams","cartPath","cartAddItemPath","cartRemoveItemPath","cartEmptyPath","cartSetItemQuantity","cartApplyCodePath","code","route","cartRemoveCodePath","cartEstimateShippingMethodsPath","cartAssociatePath","checkoutNextPath","checkoutPath","checkoutAdvancePath","checkoutCompletePath","checkoutAddStoreCreditsPath","checkoutRemoveStoreCreditsPath","checkoutPaymentMethodsPath","checkoutShippingMethodsPath","countriesPath","iso","countryPath","orderStatusPath","pagesPath","pagePath","productsPath","productPath","storesPath","storePath","taxonsPath","taxonPath","serverResponse","errorsSummary","super","Object","setPrototypeOf","prototype","name","summary","CastError","DeserializeError","DocumentRelationshipError","keys","reduce","acc","fieldPath","split","key","shift","node","length","getErrors","path","FetchError","status","Error","fetcherOptions","Axios","axios","create","baseURL","paramsSerializer","qs","stringify","arrayFormat","async","payload","toUpperCase","isAxiosError","reducedResponse","defineProperties","config","enumerable","createCustomizedFetchFetcher","sharedHeaders","requestConstructor","absoluteUrl","URL","body","JSON","search","toString","responseContentType","get","includes","json","text","ok","Request","nodeFetch","default","username","password","grant_type","refresh_token","findDocument","spreeSuccessResponse","relationType","included","find","includedObject","type","findRelationshipDocuments","sourceDocument","relationshipName","oneOrManyDocumentReferences","relationships","documentReferences","Array","isArray","map","filter","Boolean","findSingleRelationshipDocument","documents","value","isSuccess","isFail","success","fail","toJson","subtype","fromJson","assign","castError","Client","jsonApi","Http","routes","storefrontPath","endpoints","makeClient","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call"],"sourceRoot":""}